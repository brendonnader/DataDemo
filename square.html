<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Spinning Square Demo</title>
  <style>
    :root {
      /* Change the speed in seconds with JS */
      --speed: 2s;
      --size: 120px;
    }

    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: #1f2937;
      background: #f8fafc;
      min-height: 100svh;
      display: grid;
      place-items: center;
    }

    .card {
      width: min(720px, 92vw);
      background: white;
      border-radius: 16px;
      padding: 24px;
      box-shadow: 0 10px 30px rgba(0,0,0,.08);
    }

    h1 { margin: 0 0 8px; font-size: 1.5rem; }
    p { margin: 0 0 16px; line-height: 1.5; }

    .stage {
      display: grid;
      place-items: center;
      height: 280px;
      border-radius: 12px;
      background: #f1f5f9;
      outline: 1px dashed #cbd5e1;
      margin: 16px 0 20px;
      position: relative;
    }

    .square {
      width: var(--size);
      height: var(--size);
      background: linear-gradient(135deg, #2563eb, #06b6d4);
      border-radius: 12px;
      box-shadow: 0 10px 20px rgba(37, 99, 235, .25);
      animation: spin var(--speed) linear infinite;
    }

    /* Pause state toggled by JS */
    .paused .square { animation-play-state: paused; }

    @keyframes spin {
      to { transform: rotate(1turn); }
    }

    .controls {
      display: grid;
      gap: 12px;
      grid-template-columns: 1fr 1fr;
      align-items: center;
    }

    .controls label { font-size: .95rem; color: #334155; }

    .row { display: contents; }

    input[type="range"] { width: 100%; }

    button, select {
      padding: 10px 14px;
      border-radius: 10px;
      border: 1px solid #cbd5e1;
      background: #0ea5e9;
      color: white;
      cursor: pointer;
      font-weight: 600;
    }

    button.secondary {
      background: white;
      color: #0f172a;
    }

    footer { margin-top: 14px; font-size: .9rem; color: #64748b; }

    /* Respect users who prefer reduced motion */
    @media (prefers-reduced-motion: reduce) {
      .square { animation: none; }
      .controls { opacity: .8; }
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>Spinning Square</h1>
    <p>
      This page shows a <strong>CSS animation</strong>. The square spins using
      <code>@keyframes</code> and the <code>animation</code> property. Use the controls to
      pause, change speed, or reverse direction.
    </p>

    <div id="stage" class="stage">
      <div id="sq" class="square" aria-label="Decorative spinning square"></div>
    </div>

    <div class="controls">
      <div class="row">
        <label for="speed">Speed (seconds per spin)</label>
        <input id="speed" type="range" min="0.25" max="5" step="0.25" value="2" />
      </div>
      <div class="row">
        <label for="dir">Direction</label>
        <select id="dir">
          <option value="normal" selected>Clockwise</option>
          <option value="reverse">Counter-clockwise</option>
        </select>
      </div>
      <div class="row">
        <button id="toggle" class="secondary" type="button">Pause</button>
        <button id="randomize" type="button">Random Color</button>
      </div>
    </div>

    <footer>
      Tip: the animation is purely CSS (<code>@keyframes spin</code>). JavaScript here just updates CSS variables and toggles classes.
    </footer>
  </div>

  <script>
    const root = document.documentElement;
    const stage = document.getElementById('stage');
    const toggleBtn = document.getElementById('toggle');
    const speed = document.getElementById('speed');
    const dir = document.getElementById('dir');
    const square = document.getElementById('sq');

    // initialize speed CSS variable
    root.style.setProperty('--speed', speed.value + 's');

    toggleBtn.addEventListener('click', () => {
      stage.classList.toggle('paused');
      toggleBtn.textContent = stage.classList.contains('paused') ? 'Resume' : 'Pause';
      toggleBtn.classList.toggle('secondary');
    });

    speed.addEventListener('input', () => {
      root.style.setProperty('--speed', speed.value + 's');
    });

    dir.addEventListener('change', () => {
      square.style.animationDirection = dir.value; // normal | reverse
    });

    document.getElementById('randomize').addEventListener('click', () => {
      // Generate two random HSL colors for a nice gradient
      const h1 = Math.floor(Math.random() * 360);
      const h2 = (h1 + 60 + Math.floor(Math.random() * 240)) % 360;
      square.style.background = `linear-gradient(135deg, hsl(${h1} 80% 55%), hsl(${h2} 80% 55%))`;
      square.style.boxShadow = '0 10px 20px rgba(0,0,0,.15)';
    });
  </script>
</body>
</html>
